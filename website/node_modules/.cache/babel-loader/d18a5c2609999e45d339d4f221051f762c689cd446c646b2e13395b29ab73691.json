{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nilsv\\\\Documents\\\\2_TRAVAIL\\\\WEB_DEV\\\\EVAL_ECF\\\\projet\\\\website\\\\src\\\\sections\\\\VehiclesCardrousel.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, forwardRef } from 'react';\nimport VehicleCard from '../components/vehicleRelated/VehicleCard';\nimport { Container, Row } from 'react-bootstrap';\nimport { fetchVehicles } from '../serverRelated/ApiRequest';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const VehiclesCardrousel = /*#__PURE__*/_s( /*#__PURE__*/forwardRef(_c = _s(({\n  selectedBrands,\n  selectedModels,\n  selectedTypes,\n  onLoaded\n}, ref) => {\n  _s();\n  const [vehicles, setVehicles] = useState([]);\n  useEffect(() => {\n    const initVehicles = async () => {\n      try {\n        const fetchedVehicles = await fetchVehicles();\n        setVehicles(fetchedVehicles);\n        onLoaded();\n      } catch (error) {\n        console.error('Erreur lors de l\\'initialisation des véhicules:', error);\n      }\n    };\n    initVehicles();\n  }, [onLoaded]);\n  // Fonction de filtrage\n  const filterVehicles = () => {\n    return vehicles.filter(vehicle => (selectedBrands.length === 0 || selectedBrands.includes(vehicle.VehicleModel.Brand.name)) && (selectedModels.length === 0 || selectedModels.includes(vehicle.VehicleModel.name)) && (selectedTypes.length === 0 || selectedTypes.includes(vehicle.VehicleType.name)));\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      className: \"d-flex justify-content-center\",\n      ref: ref,\n      children: filterVehicles().map((vehicle, index) => {\n        var _vehicle$Photos$;\n        return /*#__PURE__*/_jsxDEV(VehicleCard, {\n          vehicleId: vehicle.id,\n          brand: vehicle.VehicleModel.Brand.name,\n          vehicleModel: vehicle.VehicleModel.name,\n          productionYear: vehicle.production_year,\n          mileage: vehicle.mileage,\n          fuelType: vehicle.FuelType.name,\n          transmission: vehicle.Transmission.name,\n          vehicleCondition: vehicle.VehicleCondition.name,\n          price: vehicle.price,\n          photo: ((_vehicle$Photos$ = vehicle.Photos[0]) === null || _vehicle$Photos$ === void 0 ? void 0 : _vehicle$Photos$.url) || 'chemin_vers_image_par_defaut.jpg' // Gestion des photos absentes\n          ,\n          options: vehicle.Options.map(option => option.name + ' - ' + option.description)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 9\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-dark p-2\",\n      style: {\n        height: \"25px\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}, \"F+3Wwuoj92cy/fYg4DPIUSmtheM=\")), \"F+3Wwuoj92cy/fYg4DPIUSmtheM=\");\n_c2 = VehiclesCardrousel;\nexport default VehiclesCardrousel;\nvar _c, _c2;\n$RefreshReg$(_c, \"VehiclesCardrousel$forwardRef\");\n$RefreshReg$(_c2, \"VehiclesCardrousel\");","map":{"version":3,"names":["React","useState","useEffect","forwardRef","VehicleCard","Container","Row","fetchVehicles","jsxDEV","_jsxDEV","Fragment","_Fragment","VehiclesCardrousel","_s","_c","selectedBrands","selectedModels","selectedTypes","onLoaded","ref","vehicles","setVehicles","initVehicles","fetchedVehicles","error","console","filterVehicles","filter","vehicle","length","includes","VehicleModel","Brand","name","VehicleType","children","className","map","index","_vehicle$Photos$","vehicleId","id","brand","vehicleModel","productionYear","production_year","mileage","fuelType","FuelType","transmission","Transmission","vehicleCondition","VehicleCondition","price","photo","Photos","url","options","Options","option","description","fileName","_jsxFileName","lineNumber","columnNumber","style","height","_c2","$RefreshReg$"],"sources":["C:/Users/nilsv/Documents/2_TRAVAIL/WEB_DEV/EVAL_ECF/projet/website/src/sections/VehiclesCardrousel.js"],"sourcesContent":["import React, { useState, useEffect, forwardRef } from 'react';\r\nimport VehicleCard from '../components/vehicleRelated/VehicleCard';\r\nimport { Container, Row } from 'react-bootstrap';\r\nimport { fetchVehicles } from '../serverRelated/ApiRequest';\r\n\r\nexport const VehiclesCardrousel = forwardRef(({ selectedBrands, selectedModels, selectedTypes, onLoaded }, ref) => {\r\n  const [vehicles, setVehicles] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const initVehicles = async () => {\r\n      try {\r\n        const fetchedVehicles = await fetchVehicles();\r\n        setVehicles(fetchedVehicles);\r\n        onLoaded();\r\n      } catch (error) {\r\n        console.error('Erreur lors de l\\'initialisation des véhicules:', error);\r\n      }\r\n    };\r\n    initVehicles();\r\n  }, [onLoaded]); \r\n  // Fonction de filtrage\r\n  const filterVehicles = () => {\r\n    return vehicles.filter(vehicle => \r\n      (selectedBrands.length === 0 || selectedBrands.includes(vehicle.VehicleModel.Brand.name)) &&\r\n      (selectedModels.length === 0 || selectedModels.includes(vehicle.VehicleModel.name)) &&\r\n      (selectedTypes.length === 0 || selectedTypes.includes(vehicle.VehicleType.name))\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n    <Row className='d-flex justify-content-center' ref={ref}>\r\n      {filterVehicles().map((vehicle, index) => (\r\n        <VehicleCard\r\n          vehicleId={vehicle.id}\r\n          key={index}\r\n          brand={vehicle.VehicleModel.Brand.name}\r\n          vehicleModel={vehicle.VehicleModel.name}\r\n          productionYear={vehicle.production_year}\r\n          mileage={vehicle.mileage}\r\n          fuelType={vehicle.FuelType.name}\r\n          transmission={vehicle.Transmission.name}\r\n          vehicleCondition={vehicle.VehicleCondition.name}\r\n          price={vehicle.price}\r\n          photo={vehicle.Photos[0]?.url || 'chemin_vers_image_par_defaut.jpg'} // Gestion des photos absentes\r\n          options={vehicle.Options.map(option => option.name + ' - ' + option.description)}\r\n        />\r\n      ))}\r\n    </Row>\r\n        <div\r\n        className=\"bg-dark p-2\"\r\n        style={{ height: \"25px\" }}\r\n      ></div>\r\n      </>\r\n  );\r\n}\r\n);\r\n\r\nexport default VehiclesCardrousel;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}