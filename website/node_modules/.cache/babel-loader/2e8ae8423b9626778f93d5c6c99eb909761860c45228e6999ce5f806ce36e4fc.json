{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nilsv\\\\Documents\\\\2_TRAVAIL\\\\WEB_DEV\\\\EVAL_ECF\\\\projet\\\\website\\\\src\\\\screens\\\\UserLeaveATestimony.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { Container, Button } from \"react-bootstrap\";\nimport { addNewTestimony } from \"../serverRelated/ApiRequest\";\nimport Form from \"react-bootstrap/Form\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const UserLeaveATestimony = () => {\n  _s();\n  const [name, setName] = useState(\"\");\n  const [testimony, setTestimony] = useState(\"\");\n  const [rating, setRating] = useState(0);\n  const [error, setError] = useState(\"\");\n  const validateInputs = () => {\n    if (!name.trim()) {\n      setError(\"Veuillez entrer votre nom.\");\n      return false;\n    }\n    if (!testimony.trim()) {\n      setError(\"Veuillez entrer votre témoignage.\");\n      return false;\n    }\n    if (isNaN(rating) || rating < 0 || rating > 5) {\n      setError(\"La note doit être un nombre entre 0 et 5.\");\n      return false;\n    }\n    setError(\"\");\n    return true;\n  };\n  const handleAddNewTestimon = async event => {\n    event.preventDefault();\n    if (!validateInputs()) {\n      return;\n    }\n    try {\n      const newTestimonyData = {\n        name,\n        testimony,\n        rating\n      };\n      const response = await addNewTestimony(newTestimonyData);\n      console.log(response);\n      // Reset form or show success message\n    } catch (error) {\n      console.error(\"Error submitting testimony:\", error);\n      setError(\"Erreur lors de la soumission du témoignage.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-dark p-5\",\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Laissez-nous un avis\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: handleAddNewTestimon,\n        children: [error && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-danger\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          controlId: \"name\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            className: \"text-light\",\n            children: \"Votre nom\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            placeholder: \"\",\n            value: name,\n            onChange: e => setName(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          controlId: \"testimony\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            className: \"text-light\",\n            children: \"Qu'avez-vous pens\\xE9 de votre exp\\xE9rience au garage Vincent Parrot ?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            as: \"textarea\",\n            rows: 3,\n            value: testimony,\n            onChange: e => setTestimony(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          controlId: \"rating\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            className: \"text-light\",\n            children: \"Donnez-nous une note de 1 \\xE0 5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"number\",\n            placeholder: \"note\",\n            value: rating,\n            onChange: e => setRating(Math.max(0, Math.min(5, Number(e.target.value))))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          type: \"submit\",\n          children: \"Envoyer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n};\n_s(UserLeaveATestimony, \"ZWsPBqxOkU1/lSbyn9HEDh955mE=\");\n_c = UserLeaveATestimony;\nexport default UserLeaveATestimony;\nvar _c;\n$RefreshReg$(_c, \"UserLeaveATestimony\");","map":{"version":3,"names":["React","useState","Container","Button","addNewTestimony","Form","jsxDEV","_jsxDEV","UserLeaveATestimony","_s","name","setName","testimony","setTestimony","rating","setRating","error","setError","validateInputs","trim","isNaN","handleAddNewTestimon","event","preventDefault","newTestimonyData","response","console","log","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","Group","controlId","Label","Control","type","placeholder","value","onChange","e","target","as","rows","Math","max","min","Number","variant","_c","$RefreshReg$"],"sources":["C:/Users/nilsv/Documents/2_TRAVAIL/WEB_DEV/EVAL_ECF/projet/website/src/screens/UserLeaveATestimony.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { Container, Button } from \"react-bootstrap\";\r\nimport { addNewTestimony } from \"../serverRelated/ApiRequest\";\r\nimport Form from \"react-bootstrap/Form\";\r\n\r\nexport const UserLeaveATestimony = () => {\r\n  const [name, setName] = useState(\"\");\r\n  const [testimony, setTestimony] = useState(\"\");\r\n  const [rating, setRating] = useState(0);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const validateInputs = () => {\r\n    if (!name.trim()) {\r\n      setError(\"Veuillez entrer votre nom.\");\r\n      return false;\r\n    }\r\n    if (!testimony.trim()) {\r\n      setError(\"Veuillez entrer votre témoignage.\");\r\n      return false;\r\n    }\r\n    if (isNaN(rating) || rating < 0 || rating > 5) {\r\n      setError(\"La note doit être un nombre entre 0 et 5.\");\r\n      return false;\r\n    }\r\n    setError(\"\");\r\n    return true;\r\n  };\r\n\r\n  const handleAddNewTestimon = async (event) => {\r\n    event.preventDefault();\r\n    if (!validateInputs()) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const newTestimonyData = { name, testimony, rating };\r\n      const response = await addNewTestimony(newTestimonyData);\r\n      console.log(response);\r\n      // Reset form or show success message\r\n    } catch (error) {\r\n      console.error(\"Error submitting testimony:\", error);\r\n      setError(\"Erreur lors de la soumission du témoignage.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-dark p-5\">\r\n      <Container>\r\n        <h1>Laissez-nous un avis</h1>\r\n        <Form onSubmit={handleAddNewTestimon}>\r\n          {error && <p className=\"text-danger\">{error}</p>}\r\n          <Form.Group\r\n            className=\"mb-3\"\r\n            controlId=\"name\"\r\n          >\r\n            <Form.Label className=\"text-light\">Votre nom</Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              placeholder=\"\"\r\n              value={name}\r\n              onChange={(e) => setName(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group\r\n            className=\"mb-3\"\r\n            controlId=\"testimony\"\r\n          >\r\n            <Form.Label className=\"text-light\">\r\n              Qu'avez-vous pensé de votre expérience au garage Vincent Parrot ?\r\n            </Form.Label>\r\n            <Form.Control\r\n              as=\"textarea\"\r\n              rows={3}\r\n              value={testimony}\r\n              onChange={(e) => setTestimony(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group\r\n            className=\"mb-3\"\r\n            controlId=\"rating\"\r\n          >\r\n            <Form.Label className=\"text-light\">\r\n              Donnez-nous une note de 1 à 5\r\n            </Form.Label>\r\n            <Form.Control\r\n              type=\"number\"\r\n              placeholder=\"note\"\r\n              value={rating}\r\n              onChange={(e) =>\r\n                setRating(Math.max(0, Math.min(5, Number(e.target.value))))\r\n              }\r\n            />\r\n          </Form.Group>\r\n          <Button\r\n            variant=\"primary\"\r\n            type=\"submit\"\r\n          >\r\n            Envoyer\r\n          </Button>\r\n        </Form>\r\n      </Container>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserLeaveATestimony;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}