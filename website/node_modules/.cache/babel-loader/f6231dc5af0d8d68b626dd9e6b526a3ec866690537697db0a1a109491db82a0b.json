{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nilsv\\\\Documents\\\\2_TRAVAIL\\\\WEB_DEV\\\\EVAL_ECF\\\\projet\\\\website\\\\src\\\\components\\\\addingEntries\\\\AddPhotoModal.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { Modal, Button, Form } from \"react-bootstrap\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AddPhotoModal = ({\n  show,\n  onHide,\n  vehicleId\n}) => {\n  _s();\n  const [photos, setPhotos] = useState([]);\n  const handlePhotosChange = e => {\n    setPhotos([...e.target.files]);\n  };\n  const handleCancel = async () => {};\n  const handleSendPhotos = async () => {\n    const formData = new FormData();\n    photos.forEach(photo => {\n      formData.append(\"photos\", photo);\n    });\n    formData.append(\"vehicle_id\", vehicleId);\n    try {\n      const response = await fetch(\"http://localhost:5001/photos\", {\n        method: \"POST\",\n        body: formData,\n        headers: {\n          Accept: \"application/json\"\n        }\n      });\n      if (!response.ok) throw new Error(\"Erreur réseau lors de l’upload des photos\");\n      // Traiter la réponse\n    } catch (error) {\n      console.error(\"Erreur lors de l’envoi des photos:\", error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Modal, {\n      show: show,\n      onHide: onHide,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Ajouter des photos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          onClick: handleSendPhotos,\n          children: \"Ajouter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"secondary\",\n          onClick: handleCancel,\n          children: \"Fermer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_s(AddPhotoModal, \"S1/H7s/HYZ8eyl0DtDgy+0vpWeU=\");\n_c = AddPhotoModal;\nexport default AddPhotoModal;\nvar _c;\n$RefreshReg$(_c, \"AddPhotoModal\");","map":{"version":3,"names":["React","useState","Modal","Button","Form","jsxDEV","_jsxDEV","Fragment","_Fragment","AddPhotoModal","show","onHide","vehicleId","_s","photos","setPhotos","handlePhotosChange","e","target","files","handleCancel","handleSendPhotos","formData","FormData","forEach","photo","append","response","fetch","method","body","headers","Accept","ok","Error","error","console","children","Header","closeButton","Title","fileName","_jsxFileName","lineNumber","columnNumber","Body","Footer","variant","onClick","_c","$RefreshReg$"],"sources":["C:/Users/nilsv/Documents/2_TRAVAIL/WEB_DEV/EVAL_ECF/projet/website/src/components/addingEntries/AddPhotoModal.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { Modal, Button, Form } from \"react-bootstrap\";\r\n\r\nconst AddPhotoModal = ({ show, onHide, vehicleId }) => {\r\n  const [photos, setPhotos] = useState([]);\r\n\r\n  const handlePhotosChange = (e) => {\r\n    setPhotos([...e.target.files]);\r\n  };\r\n\r\n  const handleCancel = async () => {};\r\n  const handleSendPhotos = async () => {\r\n    const formData = new FormData();\r\n    photos.forEach((photo) => {\r\n      formData.append(\"photos\", photo);\r\n    });\r\n    formData.append(\"vehicle_id\", vehicleId);\r\n\r\n    try {\r\n      const response = await fetch(\"http://localhost:5001/photos\", {\r\n        method: \"POST\",\r\n        body: formData,\r\n        headers: {\r\n          Accept: \"application/json\",\r\n        },\r\n      });\r\n      if (!response.ok)\r\n        throw new Error(\"Erreur réseau lors de l’upload des photos\");\r\n      // Traiter la réponse\r\n    } catch (error) {\r\n      console.error(\"Erreur lors de l’envoi des photos:\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Modal\r\n        show={show}\r\n        onHide={onHide}\r\n      >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Ajouter des photos</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          \r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button\r\n            variant=\"primary\"\r\n            onClick={handleSendPhotos}\r\n          >\r\n            Ajouter\r\n          </Button>\r\n          <Button\r\n            variant=\"secondary\"\r\n            onClick={handleCancel}\r\n          >\r\n            Fermer\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AddPhotoModal;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}