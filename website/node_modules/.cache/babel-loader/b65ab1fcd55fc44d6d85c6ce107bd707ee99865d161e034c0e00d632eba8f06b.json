{"ast":null,"code":"const fetchWithToken = async (url, options = {}) => {\n  try {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      console.error(\"Token non trouvé\");\n      return;\n    }\n    const headers = {\n      ...options.headers,\n      'Authorization': `Bearer ${token}`\n    };\n    const response = await fetch(url, {\n      ...options,\n      headers\n    });\n    if (!response.ok) {\n      console.error(\"Erreur réseau\");\n      return;\n    }\n    return await response.json();\n  } catch (error) {\n    console.error(\"Error fetching with token:\", error);\n    return;\n  }\n};\nexport default fetchWithToken;","map":{"version":3,"names":["fetchWithToken","url","options","token","localStorage","getItem","console","error","headers","response","fetch","ok","json"],"sources":["C:/Users/nilsv/Documents/2_TRAVAIL/WEB_DEV/EVAL_ECF/projet/website/src/serverRelated/fetchWithToken.js.js"],"sourcesContent":["\r\nconst fetchWithToken = async (url, options = {}) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      if (!token) {\r\n        console.error(\"Token non trouvé\");\r\n        return;\r\n      }\r\n  \r\n      const headers = {\r\n        ...options.headers,\r\n        'Authorization': `Bearer ${token}`\r\n      };\r\n  \r\n      const response = await fetch(url, { ...options, headers });\r\n      if (!response.ok) {\r\n        console.error(\"Erreur réseau\");\r\n        return; \r\n      }\r\n  \r\n      return await response.json();\r\n    } catch (error) {\r\n      console.error(\"Error fetching with token:\", error);\r\n      return; \r\n    }\r\n  };\r\n  \r\n  export default fetchWithToken;\r\n  \r\n\r\n  "],"mappings":"AACA,MAAMA,cAAc,GAAG,MAAAA,CAAOC,GAAG,EAAEC,OAAO,GAAG,CAAC,CAAC,KAAK;EAChD,IAAI;IACF,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,IAAI,CAACF,KAAK,EAAE;MACVG,OAAO,CAACC,KAAK,CAAC,kBAAkB,CAAC;MACjC;IACF;IAEA,MAAMC,OAAO,GAAG;MACd,GAAGN,OAAO,CAACM,OAAO;MAClB,eAAe,EAAG,UAASL,KAAM;IACnC,CAAC;IAED,MAAMM,QAAQ,GAAG,MAAMC,KAAK,CAACT,GAAG,EAAE;MAAE,GAAGC,OAAO;MAAEM;IAAQ,CAAC,CAAC;IAC1D,IAAI,CAACC,QAAQ,CAACE,EAAE,EAAE;MAChBL,OAAO,CAACC,KAAK,CAAC,eAAe,CAAC;MAC9B;IACF;IAEA,OAAO,MAAME,QAAQ,CAACG,IAAI,CAAC,CAAC;EAC9B,CAAC,CAAC,OAAOL,KAAK,EAAE;IACdD,OAAO,CAACC,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;IAClD;EACF;AACF,CAAC;AAED,eAAeP,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}